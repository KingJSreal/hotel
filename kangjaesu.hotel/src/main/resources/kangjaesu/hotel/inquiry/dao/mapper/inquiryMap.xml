<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kangjaesu.hotel.inquiry.dao.mapper.InquiryMapper">
	<resultMap type="inquiry" id="inquiryMap">
		<id property="inqNum" column="INQ_NUM"/>
		<result property="inqTitle" column="INQ_TITLE"/>
		<result property="inqContent" column="INQ_CONTENT"/>
		<result property="inqDate" column="INQ_DATE"/>
		<result property="inqWriter" column="INQ_WRITER"/>
		<result property="inqEmail" column="INQ_EMAIL"/>
		<result property="inqPhone" column="INQ_PHONE"/>
		<result property="status" column="STATUS"/>
		<result property="userNum" column="USER_NUM"/>
	</resultMap>
	
	<select id="getInquirys" resultMap="inquiryMap">
		select *
		from INQUIRYS
		order by INQ_NUM DESC
	</select>
	
	<select id="getInquiry" parameterType="inquiry" resultMap="inquiryMap">
		select *
		from INQUIRYS
		<where>
			<if test="INQ_NUM != null">
				INQ_NUM=#{inqNum}
			</if>
		</where>
	</select>
	
	<insert id="addInquiry" parameterType="inquiry">
		insert into INQUIRYS
			(INQ_NUM, INQ_TITLE, INQ_CONTENT, INQ_DATE,
			 INQ_WRITER, INQ_EMAIL, INQ_PHONE, STATUS, 
			 USER_NUM) 
		values
			(INQUIRY_NUM.NEXTVAL,  #{inqTitle}, #{inqContent}, SYSDATE,
			#{inqWriter}, #{inqEmail}, #{inqPhone}, #{status}, 
			#{userNum})
	</insert>
	
	<delete id="delInquiry" parameterType="int">
		delete from INQUIRYS 
		where INQ_NUM=#{inqNum}
	</delete> 

</mapper>
